<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Avaliação Nutricional | NutriVitta</title>

    <link rel="stylesheet" href="/css/reset.css" />
    <link rel="stylesheet" href="/css/subpages/features/avaliation.css" />

    <script
      src="https://kit.fontawesome.com/4410d9698c.js"
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <header>
      <nav class="nav-bar globalNav">
        <div class="logo">
          <a href="/index.html" aria-label="Página inicial">
            <i class="fa-solid fa-leaf fa-lg" style="color: #36ce4f"></i>
          </a>
          <a href="/index.html" class="brand-name">NutriVitta</a>
        </div>

        <ul class="navegacao">
          <li><a href="/index.html">Início</a></li>
          <li>
            <a href="/html/subpages/education/benefitsPage.html">
              Educação
              <i class="fa-solid fa-chevron-down" style="color: #16a34a"></i>
            </a>
            <ul class="submenu">
              <li>
                <a href="/html/subpages/education/benefitsPage.html"
                  >Benefícios</a
                >
              </li>
              <li><a href="#pilares">Pilares</a></li>
              <li>
                <a href="/html/subpages/education/problemsPage.html"
                  >Problemas dos Ultraprocessados</a
                >
              </li>
            </ul>
          </li>
          <li>
            <a href="/html/subpages/tools/advicePage.html">
              Feramentas
              <i class="fa-solid fa-chevron-down" style="color: #16a34a"></i>
            </a>
            <ul class="submenu">
              <li>
                <a href="/html/subpages/tools/advicePage.html"
                  >Avaliação Nutricional</a
                >
              </li>
              <li>
                <a href="/html/subpages/tools/menuPage.html">Cardápios</a>
              </li>
              <li>
                <a href="/html/subpages/tools/assessmentPage.html"
                  >Dicas Práticas</a
                >
              </li>
            </ul>
          </li>
          <li><a href="/html/staticpages/aboutPage.html">Sobre</a></li>
        </ul>
      </nav>
    </header>

    <main>
      <section class="text-main">
        <h1>Avaliação Nutricional Personalizada</h1>
        <p>
          Descubra seu perfil nutricional e receba recomendações personalizadas
          para uma alimentação mais saudável e equilibrada.
        </p>
      </section>

      <section class="avaliation-section">
        <div class="intro">
          <h2>Questionário Nutricional</h2>
          <p>
            Responda algumas perguntas para receber recomendações sob medida.
          </p>
        </div>

        <div class="form-container">
          <form action="#" method="POST" id="meuFormulario">
            <fieldset class="info-pessoais">
              <legend>Suas informações</legend>
              <div class="input-group">
                <div class="input-field">
                  <label for="peso">Peso (kg) *</label>
                  <input
                    type="number"
                    id="peso"
                    name="peso"
                    placeholder="Ex: 70"
                    required
                  />
                </div>
                <div class="input-field">
                  <label for="altura">Altura (cm) *</label>
                  <input
                    type="number"
                    id="altura"
                    name="altura"
                    placeholder="Ex: 170"
                    required
                  />
                </div>
              </div>
            </fieldset>

            <fieldset class="restricoes">
              <legend>Restrições Alimentares</legend>
              <div class="checkbox-grid">
                <label
                  ><input type="checkbox" name="restricoes" value="lactose" />
                  Lactose</label
                >
                <label
                  ><input type="checkbox" name="restricoes" value="gluten" />
                  Glúten</label
                >
                <label
                  ><input type="checkbox" name="restricoes" value="nozes" />
                  Nozes e castanhas</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="restricoes"
                    value="frutos-do-mar"
                  />
                  Frutos do mar</label
                >
                <label
                  ><input type="checkbox" name="restricoes" value="ovos" />
                  Ovos</label
                >
                <label
                  ><input type="checkbox" name="restricoes" value="soja" />
                  Soja</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="restricoes"
                    value="vegetariano"
                  />
                  Vegetariano</label
                >
                <label
                  ><input type="checkbox" name="restricoes" value="vegano" />
                  Vegano</label
                >
                <label
                  ><input type="checkbox" name="restricoes" value="diabetes" />
                  Diabetes</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="restricoes"
                    value="hipertensao"
                  />
                  Hipertensão</label
                >
              </div>
            </fieldset>

            <div class="input-field-full">
              <label for="gostos">O que você gosta de comer?</label>
              <textarea
                id="gostos"
                name="gostos"
                rows="4"
                placeholder="Ex: frutas, massas, carnes magras..."
              ></textarea>
            </div>

            <div class="input-field-full">
              <label for="objetivo">Qual seu objetivo principal?</label>
              <select id="objetivo" name="objetivo" required>
                <option value="" disabled selected>
                  Selecione seu objetivo
                </option>
                <option value="perder-peso">Perder peso</option>
                <option value="ganhar-massa">Ganhar massa muscular</option>
                <option value="manter-peso">Manter o peso</option>
                <option value="alimentacao-saudavel">
                  Ter uma alimentação mais saudável
                </option>
              </select>
            </div>

            <div class="input-field-full">
              <label for="atividade-fisica">Nível de atividade física</label>
              <select id="atividade-fisica" name="atividade-fisica">
                <option value="" disabled selected>
                  Selecione seu nível de atividade
                </option>
                <option value="sedentario">
                  Sedentário (pouco ou nenhum exercício)
                </option>
                <option value="leve">Levemente ativo (1-3 dias/semana)</option>
                <option value="moderado">
                  Moderadamente ativo (3-5 dias/semana)
                </option>
                <option value="muito-ativo">
                  Muito ativo (6-7 dias/semana)
                </option>
                <option value="extremamente-ativo">
                  Extremamente ativo (trabalho físico intenso)
                </option>
              </select>
            </div>

            <div class="input-field-full">
              <label for="refeicoes">Quantas refeições você faz por dia?</label>
              <select id="refeicoes" name="refeicoes">
                <option value="" disabled selected>Número de refeições</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6+">6 ou mais</option>
              </select>
            </div>

            <div class="input-field-full">
              <label for="condicao-especial"
                >Condições especiais ou problemas de saúde?</label
              >
              <textarea
                id="condicao-especial"
                name="condicao-especial"
                rows="4"
                placeholder="Ex: diabetes, hipertensão..."
              ></textarea>
            </div>

            <button type="submit" class="submit-btn">
              Gerar Recomendações Personalizadas
            </button>
          </form>
        </div>
      </section>
    </main>

    <footer class="footer" id="footer">
      <div class="footer-container">
        <div class="footer-col">
          <h2 class="logo">
            <i class="fa-solid fa-leaf fa-lg" style="color: #36ce4f"></i>
            NutriVitta
          </h2>
          <p>
            Transformando vidas através de uma alimentação equilibrada e
            consciente. Sua jornada para uma vida mais saudável começa aqui.
          </p>
          <p class="love">Feito com amor pela sua saúde</p>
        </div>

        <div class="footer-col">
          <h3>Links Rápidos</h3>
          <ul>
            <li><a href="#">Avaliação</a></li>
            <li><a href="#">Educação</a></li>
            <li><a href="#">Dicas</a></li>
            <li><a href="#">Cardápios</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h3>Recursos</h3>
          <ul>
            <li><a href="#">Calculadora de IMC</a></li>
            <li><a href="#">Guia de Substituições</a></li>
            <li><a href="#">Receitas Saudáveis</a></li>
            <li><a href="#">Dicas Nutricionais</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h3>Contato</h3>
          <p>contato@nutrivitta.com</p>
          <p>(47) 99999-9999</p>
          <p>Araquari, SC</p>
        </div>
      </div>

      <div class="footer-bottom">
        <p>© 2025 NutriVitta. Todos os direitos reservados.</p>
        <div class="footer-links">
          <a href="#">Política de Privacidade</a> |
          <a href="#">Termos de Uso</a>
        </div>
      </div>

      <div class="footer-warning">
        <strong>Aviso Importante:</strong> As informações contidas neste site
        são apenas para fins educacionais e não substituem o aconselhamento
        médico profissional. Sempre consulte um nutricionista ou médico antes de
        fazer mudanças significativas em sua dieta, especialmente se tiver
        condições médicas específicas.
      </div>
    </footer>
  </body>

  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script>
  ;(function () {
    emailjs.init('KJydgZ8JmOQ-UDPPg')
  })()
  
  document.addEventListener('DOMContentLoaded', function () {
    const form = document.getElementById('meuFormulario')
  
    form.addEventListener('submit', function (event) {
      event.preventDefault()
  
     
      const peso = parseFloat(form.peso.value)
      const altura = parseFloat(form.altura.value) / 100
      const objetivo = form.objetivo.value
      const atividade = form['atividade-fisica'].value
  
      const imc = (peso / (altura * altura)).toFixed(1)
  
    
      let mensagem_imc = ''
      if (imc < 18.5) {
        mensagem_imc = 'Você está abaixo do peso. Procure aumentar sua ingestão calórica de forma saudável.'
      } else if (imc < 24.9) {
        mensagem_imc = 'Você está com um peso considerado saudável! Continue assim!'
      } else if (imc < 29.9) {
        mensagem_imc = 'Você está com sobrepeso. Uma alimentação equilibrada pode te ajudar a melhorar esse índice.'
      } else {
        mensagem_imc = 'Você está na faixa de obesidade. Recomendamos procurar um nutricionista.'
      }
  
      
      let mensagem_objetivo = ''
      switch (objetivo) {
        case 'perder-peso':
          mensagem_objetivo = 'Como seu objetivo é perder peso, priorize alimentos naturais, evite ultraprocessados e mantenha-se ativo!'
          break
        case 'ganhar-massa':
          mensagem_objetivo = 'Para ganhar massa muscular, aumente a ingestão de proteínas e mantenha uma rotina de treinos.'
          break
        case 'manter-peso':
          mensagem_objetivo = 'Seu foco é manter o peso. Continue equilibrando bem suas refeições e atividades.'
          break
        case 'alimentacao-saudavel':
          mensagem_objetivo = 'Buscando uma alimentação saudável? Invista em frutas, verduras e alimentos integrais!'
          break
      }
  
      // Mensagem atividade
      let mensagem_atividade = ''
      if (atividade === 'sedentario') {
        mensagem_atividade = 'Tente incluir caminhadas leves na sua rotina!'
      } else if (atividade === 'leve' || atividade === 'moderado' || atividade === 'muito-ativo' || atividade === 'extremamente-ativo') {
        mensagem_atividade = 'Ótimo nível de atividade! Mantenha o ritmo e cuide da hidratação.'
      }
 
      const restricoesSelecionadas = Array.from(form.querySelectorAll('input[name="restricoes"]:checked'))
        .map(input => input.value)
        .join(', ') || 'Nenhuma'
  
      const dadosEmail = {
        imc: imc,
        mensagem_imc: mensagem_imc,
        objetivo: objetivo,
        mensagem_objetivo: mensagem_objetivo,
        'atividade-fisica': atividade,
        mensagem_atividade: mensagem_atividade,
        restricoes: restricoesSelecionadas,
        gostos: form.gostos.value || 'Não informado',
        'condicao-especial': form['condicao-especial'].value || 'Não informado'
      }
  
      Swal.fire({
        title: 'Enviando...',
        text: 'Aguarde um momento',
        allowOutsideClick: false,
        didOpen: () => {
          Swal.showLoading()
        },
      })

      emailjs.send('service_tdikpbk', 'template_5hicul9', dadosEmail)
        .then(function () {
          Swal.fire({
            icon: 'success',
            title: 'Avaliação concluída!',
            html: `Seu formulário foi enviado com sucesso.<br><br>IMC: <b>${imc}</b><br>${mensagem_imc}`,
            confirmButtonColor: '#23ce62'
          })
          form.reset()
        }, function (error) {
          console.error('Erro:', error)
          Swal.fire({
            icon: 'error',
            title: 'Erro!',
            text: 'Ocorreu um erro ao enviar. Tente novamente!',
            confirmButtonColor: '#d33',
          })
        })
    })
  })
  </script>
</html>
